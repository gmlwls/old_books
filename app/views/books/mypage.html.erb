<style>

/*@font-face { font-family: 'KCC-eunyoung'; src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_one@1.0/KCC-eunyoung-Regular.woff') format('woff'); font-weight: normal; font-style: normal; }
*/
li.nav-item a#mypage {
  color: rgb(0,42,253);
}


#banner {
  background-color: rgb(0,42,253);
  height: 280px;
  width: 100%;
}

.ment {
  padding-top: 4%;
  text-align: center;
}

.ment h2 {
  font-size: 2.5rem;
}

main {
  min-height: 130vh;
  height: auto;
}

.container {
  line-height: 1.5;
  font-size: 1rem;
}

.row {
  padding: 1rem 0;
  display: block;
}

.trade_content {
  position: relative;
  margin: 1rem 0;
  padding: 16px;
  border: 1px solid #dadfeb;
  border-radius: .28571429rem;
}

.msgs {
  margin: 0 0;
}

.msgs > .msg:first-child {
  margin-top: 0 !important;
  border-top: none !important;
  padding-top: 0 !important;
}

.msgs > .msg:last-child {
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
}

.msgs > .msg:last-child:hover {
  padding-bottom: 1em !important;
  margin-bottom: -1em !important;  
  transition: none;
}

.msgs > .msg:first-child:hover {
  padding-top: 1em !important;
  margin-top: -1em !important;
  transition: none;
}

.msg {
  width: 100%;
  padding: 1em 0;
  border-top: 1px solid #dadfeb;
  margin: 0;
  font-size: 1em;
  display: flex;
}

.msg_time {
  font-size: 0.9rem;
  color: gray;
}

.each_header {
  margin-bottom: 10px;
  display: inline-block;
  font-size: 18px;
}

.grid > .row:before {
  position:absolute;
  content: "";
  top: 0;
  left: 0;
  width: calc(100% - 20px);
  height: 1px;
  margin: 0 10px;
  box-shadow: 0 -1px 0 0 #dadfeb;
}

.books {
  display: flex;
  justify-content: space-around;
}

/*
.books > .book:last-child {
  display: flex;
  justify-content: center;
  align-items: center;
}
*/
.books > .book:last-child span {
  color: rgb(115,111,111);
  font-size: 70px;
  font-weight: 200;
}

.books > .book:hover,
.msgs > .msg:hover {
  background-color: #dadfeb;
  transition: 0.3s all ease-in-out;
}

.books > .book:last-child span:hover{
  color: white;
}

.inner-image {
  height: 100%;
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  /*for debugging*/
  border: 1px solid #fbfbfb;
}

.img-cover {
  height: 100%;
  border-radius: .28571429rem;
  z-index: 1;
  color: white;
  font-size: 1.2rem;
  font-weight: bolder;
  padding-top: 50%;
}

  #mobilebtn {
    color: black !important;
  }

.card-body {
  padding: 0.25rem;
  text-align: center;
}
.card-title {
  text-align: center;
}

.book {
  height: 200px;
  width: 200px;
}
.book_btm {
  display: flex;
  cursor: pointer;
}
.book_btm:hover {
  background-color: rgb(218, 223, 235);
}

</style>
<%= render 'nav2' %>
<main>
<div id = "wrap" class="vertically divided grid container">
  <section id="trade" class="row">
    <h4 class="trade_header each_header">
    최근활동
    </h4>
    <div class="trade_content">
      <div class="msgs">
        <% current_user.new_notifications.unread_by(current_user).each do |m| %>
          <%= link_to m, class: 'msg row' do %>
            <div class="msg_bell col-md-1">읽지 않음</div>
            <div class="msg_title col-md-9"><%= m.content %></div>
            <div class="msg_time col-md-2"><%= m.created_at.strftime("%Y-%m-%d") %></div>
          <% end %>
        <% end %>
        <% current_user.new_notifications.read_by(current_user).each do |m| %>
          <%= link_to m , class: 'msg row' do %>
            <div class="msg_bell col-md-1">읽음</div>
            <div class="msg_title col-md-9"><%= m.content %></div>
            <div class="msg_time col-md-2"><%= m.created_at.strftime("%Y-%m-%d") %></div>
          <% end %>
        <% end %>
      </div>
    </div>
  </section>
  <hr>

  <section id="mybooks">
    <h4 class="mybooks_header each_header">최근 올린 책들</h4>
    <div class="mybooks_content">
      <div class="books upload">
        <% for i in 0..3 %>
        <div class='book mybook-<%=i%>'>
          <div class="inner-image" style="background-color: #dadfeb;"></div>
          <div class="card-body">
            <div class="card-title"></div>
          </div>
        </div>
        <% end %>
      </div>
      <!--<div><a href=<%= mybook_path%>><span>모두보기</span></a></div>-->
    </div>
  </section>
    <section id="mybooks" class="row" style="margin-top: 10%;">
    <h4 class="mybooks_header each_header">
    전체 보기
    </h4>
    <div class="mybooks_content">
      <div class="btm_books upload">
        <% @books.each do |m| %>
          <div class="book_btm">
          <%= link_to m, class: 'msg row' do %>
            <div class="card-name col-md-4"><%= m.bookname%></div>
            <div class="card-author col-md-2"><%= m.author %></div>
            <div class="card-price col-md-3"><%= m.price %></div>
            <div class="card-time col-md-3"><%= m.created_at.strftime("%Y-%m-%d") %></div>
          <% end %>
          </div>
        <% end %>
      </div>
    </div>
  </section>
</div>
</main>
<%= render 'footer' %>

<script>

</script>



