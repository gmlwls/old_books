<style>
  * {
    text-align: center;
    align-items: center;
  }

  a, p, span {
    font-size: 1rem;
    line-height: 22px;
    font-weight: 400;
  }

  #mobilebtn {
    color: white;
  }
/*
  .books_title {
    height: 50px;
    display: flex;
    justify-content: space-between;
    padding: 5% 2% 0% 2%;
    font-size: 0.9rem;
    margin-top: 2%;
  }

  .book_contents {
    padding: 0.1rem 0 10rem 0;
    min-height: 80vh;
  }

@media all and (max-width: 576px){
  .card-image-top{
    width: 100%;
  }

  .card-title {
    font-size: 1rem;
    font-weight: 600;
    margin-top: 5%;
    margin-bottom: 5%;
  }

  .card-body > p {
    font-size: 0.9rem;
  }
}
@media all and (min-width: 577px) and (max-width: 992px){
  .card-image-top{
    width: 200px;
    height: 200px;
  }
}
@media all and (min-width: 993px) {
  .card-image-top{
    width: 230px;
    height: 230px;
  }
}

.card-title {
  display: flex;
  flex-direction: column;
  justify-content : center;
}



  */
/* media queries */
@media all and (max-width: 575px){


}
@media all and (min-width: 576px) and (max-width: 991px){

}
@media all and (min-width: 992px) {

}

@media all and (min-width: 1200px) {

}

</style>

<%= render 'nav' %>
<main>
  <div class="books_title">
    <div class="result"></div>
    <div class="choice">
    <span class="active option" id = "0">전체</span> | <span class="option" id = "1">이름순</span> | <span class="option" id = "2">가격순</span> | <span class="option" id = "3">인기순</span>
    </div>
  </div>
  <div class="book_contents container">
    <div class="row">
      <%= render 'book_div', books: @books %>
    </div>
  </div>
</main>
<%= render 'footer' %>

<script>
$(document).ready(function () {
    $(document).on('click', '.option', function () {
        $(".active").toggleClass("active");
        $(this).toggleClass("active");
        var opt = $(this).attr('id');
        $(".row").empty();
        if(opt==0) {
          var html = "<%= escape_javascript(render(partial: 'book_div', locals: {books: @books.sort_by{ |b| b.id}})) %>";
        }
        else if(opt==1){
          var html = "<%= escape_javascript(render(partial: 'book_div', locals: {books: @books.sort_by{ |b| b.bookname}})) %>";
        }
        else if(opt==2){
          var html = "<%= escape_javascript(render(partial: 'book_div', locals: {books: @books.sort_by{ |b| b.price}})) %>";
        }
        else{
          var html = "<%= escape_javascript(render(partial: 'book_div', locals: {books: @books.sort_by{ |b| b.likes.size*-1}})) %>";
        }
        
        $(".row").append(html);
    });
});
</script>
